<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Sales</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
</head>
<body>
    <a href = "{{ url_for('home') }}" class="btn btn-info">Return to home page</a>
    <p id="date"></p>
    <p id="sales"></p>
    <canvas id="DailySales" style="height=250; width=400"></canvas>
    <script type="module">
        import { getSalesData, getSalesConfig } from "{{ url_for('static', filename='js/script.js') }}"

        const dailyChart = document.querySelector("#DailySales").getContext("2d");
        const scaleBtn = document.querySelector("#scaleBtn");

        const total = {{ total | safe }};
        const member = {{ member | safe }};
        const non_member = {{ non_member| safe }};

        const data = getSalesData(total, member, non_member);
        const config = getSalesConfig(data);
        const SalesChart = new Chart(
            dailyChart,
            config
        );
        SalesChart.canvas.parentNode.style.width = "1380px";
        SalesChart.canvas.parentNode.style.height = "720px";
    </script>
</body>
</html>
